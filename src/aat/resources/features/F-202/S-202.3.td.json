{
  "_guid_": "S-202.3",

  "productName": "CCD Data Store",
  "operationName": "ES Search",
  "method": "POST",
  "uri": "/searchCases",

  "specs": [
    "to create a token for event creation",
    "restricted access to create CT2 cases",
    "attempts to search for case type CT2 by field F2=b",
    "attempts to search for case J1-CT2-01",
    "contains no cases",
    "contains case J1-CT2-03",
    "attempts to search for case type CT2 by field F2",
    "contains case field F3 only as the user only has SC access to this field",
    "contains case J1-CT2-03 which the user has state access to",
    "does not contain case J1-CT2-01 as the user does not have access to the state",
    "to give user Solicitor2 their role case role assignments"
  ],

  "users" : {
    "invokingUser": {

      "username": "ccd.ac.solicitor2@gmail.com",
      "password": "Pa55word11"
    }
  },

  "request" : {
    "_extends_": "Common_Request",
    "queryParams": {
      "ctid": "CT2"
    },
    "headers": {
      "experimental": true
    },
    "body": {
      "query": {
        "match": {
            "data.F2.keyword": "b${[scenarioContext][customValues][UniqueString]}"
        }
      }
    }
  },

  "expectedResponse": {
    "_extends_": "Common_200_Response",
    "body" :  {
      "total" : 1,
      "cases" : [ {
        "id" : "[[ANYTHING_PRESENT]]",
        "jurisdiction" : "J1",
        "state" : "Issued1",
        "version" : null,
        "case_type_id" : "CT2",
        "created_date" : "[[ANYTHING_PRESENT]]",
        "last_modified" : "[[ANYTHING_PRESENT]]",
        "last_state_modified_date" : "[[ANYTHING_PRESENT]]",
        "security_classification" : "PUBLIC",
        "case_data" : {
          "F3" : "c${[scenarioContext][customValues][UniqueString]}"
        },
        "data_classification" : {
          "F1" : "RESTRICTED",
          "F2" : "PRIVATE",
          "F3" : "PUBLIC"
        },
        "supplementary_data" : null,
        "after_submit_callback_response" : null,
        "callback_response_status_code" : null,
        "callback_response_status" : null,
        "delete_draft_response_status_code" : null,
        "delete_draft_response_status" : null,
        "security_classifications" : {
          "F1" : "RESTRICTED",
          "F2" : "PRIVATE",
          "F3" : "PUBLIC"
        }
      } ],
      "case_types_results" : [ {
        "total" : 1,
        "case_type_id" : "CT2"
      } ]
    }
  }

}
